{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Profile",
      "type": "object",
      "description": "Stores core user profile information.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's public display name."
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "avatar": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        },
        "phone": {
          "type": "string"
        },
        "is_active": {
          "type": "boolean",
          "default": true
        }
      },
      "required": ["name", "email", "created_at", "is_active"]
    },
    "UserSettings": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Settings",
      "type": "object",
      "description": "Stores user-specific application settings.",
      "properties": {
        "theme": {
          "type": "string",
          "enum": ["light", "dark"],
          "default": "dark"
        },
        "language": {
          "type": "string",
          "enum": ["ar", "en"],
          "default": "ar"
        },
        "notifications_enabled": {
          "type": "boolean",
          "default": true
        }
      },
      "required": ["theme", "language", "notifications_enabled"]
    },
    "UserRoles": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Roles",
      "type": "object",
      "description": "Stores user roles and specific permissions.",
      "properties": {
        "role": {
          "type": "string",
          "enum": ["admin", "editor", "viewer"],
          "default": "viewer"
        },
        "can_edit": {
          "type": "boolean",
          "default": false
        },
        "can_delete": {
          "type": "boolean",
          "default": false
        },
        "can_view_reports": {
          "type": "boolean",
          "default": false
        }
      },
      "required": ["role", "can_edit", "can_delete", "can_view_reports"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "github",
      "google",
      "facebook",
      "twitter"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores the main profile data for a user."
    },
    "/users/{userId}/settings/general": {
      "schema": {
        "$ref": "#/entities/UserSettings"
      },
      "description": "Stores general settings for a user."
    },
    "/users/{userId}/roles/access": {
      "schema": {
        "$ref": "#/entities/UserRoles"
      },
      "description": "Stores access roles and permissions for a user."
    }
  }
}
