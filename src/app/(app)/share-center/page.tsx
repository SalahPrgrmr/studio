'use client';

import { useState } from 'react';
import { Card, CardContent, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Share2, Copy, Check, Hash } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';

const shareableContent = [
  // General & Intriguing
  {
    title: 'رسالة دعوة عامة',
    content: `اكتشف رحلة نحو وضوح الفكر وسكينة الروح.
ادخل إلى "عين اليقين"، منصة عالمية محايدة وغير ربحية، مصممة لمساعدتك في العثور على إجابات لأسئلتك الكبرى.
ابدأ رحلتك هنا: [ضع رابط المنصة هنا]`,
    hashtags: ['#عين_اليقين', '#رحلة_اليقين', '#توحيد'],
  },
  {
    title: 'دعوة للتفكر في الخلق',
    content: `هل تأملت يومًا في دقة هذا الكون؟
من أصغر ذرة إلى أكبر مجرة، كل شيء يسبح بحمد خالقه.
أدعوك لزيارة منصة "عين اليقين" والتفكر في آيات الله التي تحيط بنا.
[ضع رابط المنصة هنا]`,
    hashtags: ['#تفكر', '#آيات_كونية', '#عظمة_الخالق'],
  },
  {
    title: 'رسالة للباحث عن الحقيقة',
    content: `إذا كنت تبحث عن إجابات منطقية وعقلانية لأسئلة الحياة الكبرى، فهذا المكان لك.
"عين اليقين" تقدم لك الأدوات اللازمة لبناء قناعات راسخة على أساس من العلم والبرهان، وليس التقليد.
ابدأ بحثك عن الحقيقة: [ضع رابط المنصة هنا]`,
    hashtags: ['#الباحث_عن_الحقيقة', '#المنطق', '#الإيمان_عن_قناعة'],
  },
  {
    title: 'رسالة للمحتاج والمضطر',
    content: `هل تشعر بالضيق أو القلق؟ هل تضيق بك السبل؟
تذكر أن الله يقول: "أَمَّن يُجِيبُ الْمُضْطَرَّ إِذَا دَعَاهُ وَيَكْشِفُ السُّوءَ".
ادخل إلى "عين اليقين" لتجد طريقك المباشر إلى الله في أوقات الشدة.
[ضع رابط المنصة هنا]`,
    hashtags: ['#الدعاء', '#الفرج_قريب', '#لا_تقنطوا_من_رحمة_الله'],
  },
  {
    title: "سؤال واحد قد يغير حياتك",
    content: `ما هو الشيء الذي لو عرفته اليوم، لتغيرت نظرتك لكل شيء؟ الجواب قد يكون أقرب مما تتصور.
اكتشف بنفسك على منصة عين اليقين: [ضع رابط المنصة هنا]`,
    hashtags: ['#سؤال_وجودي', '#تغيير', '#الحقيقة'],
  },
  // For the Anxious/Worried
  {
    title: "هل تبحث عن السلام الداخلي؟",
    content: `في ضجيج الحياة، قد نفقد بوصلة الأمان. هناك طريق للعودة إلى الطمأنينة الحقيقية التي لا تتأثر بالظروف.
ابحث عن السلام في "عين اليقين": [ضع رابط المنصة هنا]`,
    hashtags: ['#السلام_الداخلي', '#الطمأنينة', '#سكينة'],
  },
  {
    title: "لمن أرهقته الحياة",
    content: `إذا كانت همومك أثقل من أن تحملها وحدك، فهناك ملجأ. هناك من يسمعك دون أن تتكلم.
تعرف على قوة اليقين في تخفيف الأعباء: [ضع رابط المنصة هنا]`,
    hashtags: ['#هموم', '#الأمل', '#اليقين_بالله'],
  },
  {
    title: "توقف عن القلق بشأن المستقبل",
    content: `القلق لا يغير الغد، لكنه يسرق سلام اليوم. تعلم كيف تسلم أمورك للذي بيده كل شيء وتعيش بقلب مطمئن.
[ضع رابط المنصة هنا]`,
    hashtags: ['#لا_تقلق', '#التوكل', '#حسن_الظن_بالله'],
  },
  // For the Intellectuals/Skeptics
  {
    title: "هل جاء الكون بالصدفة؟",
    content: `من دقة الحمض النووي إلى اتساع المجرات، هل يمكن أن يكون كل هذا النظام نتيجة فوضى عشوائية؟ العقل يدلك على الصانع.
تفكر بالأدلة المنطقية: [ضع رابط المنصة هنا]`,
    hashtags: ['#التصميم_الذكي', '#العلم_والإيمان', '#برهان_النظم'],
  },
  {
    title: "رسالة إلى عقلك",
    content: `لا تقبل إيمانًا لا يقنع عقلك. الإسلام يدعوك إلى البرهان والدليل. "قل هاتوا برهانكم إن كنتم صادقين".
ابدأ رحلتك العقلانية نحو اليقين: [ضع رابط المنصة هنا]`,
    hashtags: ['#العقل', '#البرهان', '#فكر'],
  },
  {
    title: "ما وراء الفيزياء",
    content: `العلم يصف "كيف"، لكنه يعجز عن "لماذا". من أين أتت قوانين الفيزياء؟ ما هو مصدر الوعي؟
استكشف الأسئلة التي تتجاوز حدود العلم المادي: [ضع رابط المنصة هنا]`,
    hashtags: ['#ماوراء_الطبيعة', '#الوعي', '#أسئلة_كبرى'],
  },
  {
    title: "الإنذار الأخير",
    content: `الزلازل، الفيضانات، الأوبئة. هل هي مجرد ظواهر طبيعية أم رسائل من خالق الكون؟ "وَمَا نُرْسِلُ بِالْآيَاتِ إِلَّا تَخْوِيفًا".
تفكر في الإنذار قبل فوات الأوان: [ضع رابط المنصة هنا]`,
    hashtags: ['#الإنذار', '#آيات_الله', '#ارجعوا_إلى_الله'],
  },
  // For Believers
  {
    title: "من الإيمان إلى اليقين",
    content: `هل إيمانك مجرد عادة، أم قناعة راسخة تهز الجبال؟ انتقل من مرحلة التصديق إلى مرحلة اليقين الذي لا يتزعزع.
عمّق إيمانك اليوم: [ضع رابط المنصة هنا]`,
    hashtags: ['#زيادة_الإيمان', '#حق_اليقين', '#الثبات'],
  },
  {
    title: "مسؤوليتك كمسلم",
    content: `"كُنتُمْ خَيْرَ أُمَّةٍ أُخْرِجَتْ لِلنَّاسِ". هل قمت بدورك في تبليغ رسالة التوحيد؟ لا تكن ممن يعلمون ويكتمون.
انضم لجنود اليقين: [ضع رابط المنصة هنا]`,
    hashtags: ['#الدعوة', '#تبليغ_الرسالة', '#كن_داعيا'],
  },
  {
    title: "جدد نيتك، يتجدد عالمك",
    content: `أعظم عمل يمكن أن تفعله هو أن تخلص نيتك لله في كل شيء. العمل الصغير بالنية الصادقة يفوق الجبال من الأعمال بغيرها.
تعلم قوة النية: [ضع-رابط-المنصة-هنا]`,
    hashtags: ['#الإخلاص', '#النية', '#أساس_العمل'],
  },
  // For People of the Book
  {
    title: "دعوة لأهل الكتاب",
    content: `"قُلْ يَا أَهْلَ الْكِتَابِ تَعَالَوْا إِلَىٰ كَلِمَةٍ سَوَاءٍ بَيْنَنَا وَبَيْنَكُمْ".
دعونا نرجع إلى الأصل المشترك: عبادة إله واحد لا شريك له.
[ضع رابط المنصة هنا]`,
    hashtags: ['#أهل_الكتاب', '#كلمة_سواء', '#التوحيد'],
  },
  // Short & Punchy
  {
    title: "الهروب إلى أين؟",
    content: `كل شيء في هذا الكون فانٍ، "وَيَبْقَىٰ وَجْهُ رَبِّكَ ذُو الْجَلَالِ وَالْإِكْرَامِ".
إلى أين المفر إلا إليه؟
[ضع رابط المنصة هنا]`,
    hashtags: ['#الموت', '#الحياة_الآخرة', '#إلى_الله'],
  },
  {
    title: "أنت لست وحدك",
    content: `في أعمق لحظات وحدتك، هناك من هو أقرب إليك من حبل الوريد.
اشعر بحقيقة معيته: [ضع رابط المنصة هنا]`,
    hashtags: ['#لا_تحزن', '#معية_الله', '#الأنس_بالله'],
  },
  {
    title: "هل أنت مستعد؟",
    content: `الموت يأتي بغتة. السؤال ليس متى، بل هل أنت مستعد للقاء الله؟
"عين اليقين" تساعدك على الاستعداد لأهم رحلة.
[ضع رابط المنصة هنا]`,
    hashtags: ['#الاستعداد_للموت', '#التوبة', '#حسن_الخاتمة'],
  },
  // Practical/Action-oriented
  {
    title: "لا تنتظر المهدي، كن جنديًا في جيشه",
    content: `التمهيد للمهدي لا يكون بالانتظار، بل بالعمل. ابدأ بإصلاح نفسك، ثم تحرك لإصلاح العالم بالدعوة إلى الحق.
اعرف كيف تكون من الممهدين: [ضع رابط المنصة هنا]`,
    hashtags: ['#المهدي', '#سبيل_المهدي', '#التمهيد'],
  },
  {
    title: "لمن يبحث عن طريق واضح للعمل مع الله",
    content: `هل تبحث عن منهجية عمل واضحة لتسخير وقتك وجهدك في سبيل الله؟
"عين اليقين" تقدم لك خارطة طريق عملية تبدأ من إصلاح النفس وتنتهي بنصرة دين الله.
اكتشف كيف يمكنك أن تكون جنديًا فاعلاً في أعظم قضية: [ضع رابط المنصة هنا]`,
    hashtags: ['#طريق_الله', '#العمل_لله', '#منهجية_واضحة', '#نصرة_الدين'],
  },
  {
    title: "سخر نعمتك",
    content: `مالك، علمك، وقتك، منصبك.. كلها نعم ستُسأل عنها. هل سخرتها في سبيل الله؟
"عين اليقين" تدلك على طرق عملية لتسخير نعمك.
[ضع رابط المنصة هنا]`,
    hashtags: ['#تسخير_النعم', '#شكر_النعمة', '#العطاء'],
  },
  {
    title: "لديك موهبة؟ استخدمها في الدعوة",
    content: `سواء كنت مصممًا، كاتبًا، مبرمجًا أو مؤثرًا، يمكنك استخدام موهبتك لنصرة دين الله.
انضم إلى المتطوعين وساهم معنا: [ضع رابط المنصة هنا]`,
    hashtags: ['#تطوع', '#انصر_دينك', '#موهبتك_في_خدمة_الدين'],
  },
  // More engaging questions
  {
    title: "ماذا لو كانت حياتك كلها اختبار؟",
    content: `كل لحظة فرح، وكل لحظة ألم، هي سؤال في اختبار عظيم. هل فهمت طبيعة الأسئلة؟
تعلم قواعد الاختبار على "عين اليقين": [ضع رابط المنصة هنا]`,
    hashtags: ['#الدنيا_دار_ابتلاء', '#الصبر', '#الشكر'],
  },
  {
    title: "هل تعرف أسماء الله؟",
    content: `معرفة أسماء الله الحسنى تغير علاقتك به تمامًا. عندما تعرفه بأسمائه، تعرف كيف تدعوه وتثق به.
ابدأ رحلة معرفة أسماء الله: [ضع رابط المنصة هنا]`,
    hashtags: ['#أسماء_الله_الحسنى', '#معرفة_الله', '#الدعاء_بأسماء_الله'],
  },
  {
    title: "قصة آدم ليست مجرد قصة",
    content: `قصة آدم هي قصتك. صراعك مع الشيطان، ضعفك، توبتك، وعودتك إلى الله.
افهم قصتك من خلال قصص القرآن: [ضع رابط المنصة هنا]`,
    hashtags: ['#قصص_القرآن', '#تدبر', '#آدم'],
  },
  {
    title: "لماذا يتأخر جواب الدعاء؟",
    content: `قد تظن أن الدعاء لم يُستجب، لكن الله يدبر لك الخير بطرق لا تعلمها. "وَعَسَىٰ أَن تَكْرَهُوا شَيْئًا وَهُوَ خَيْرٌ لَّكُمْ".
افهم حكمة الله في الدعاء: [ضع رابط المنصة هنا]`,
    hashtags: ['#استجابة_الدعاء', '#حكمة_الله', '#الثقة_بالله'],
  },
  {
    title: "هل أنت حر حقًا؟",
    content: `الحرية الحقيقية ليست في اتباع كل شهوة، بل في التحرر من عبودية كل شيء سوى الله.
تذوق طعم الحرية بالتوحيد: [ضع رابط المنصة هنا]`,
    hashtags: ['#الحرية', '#العبودية_لله', '#التوحيد_أولا'],
  },
  {
    title: "ما هو أغلى شيء تملكه؟",
    content: `ليس مالك ولا منصبك. أغلى ما تملكه هو قلبك. فبماذا ملأته؟
املأ قلبك باليقين والنور: [ضع رابط المنصة هنا]`,
    hashtags: ['#القلب_السليم', '#كنز_الإيمان', '#نور_على_نور'],
  },
  {
    title: "كن من المنذرين",
    content: `"مَّنْ أَعْرَضَ عَنْهُ فَإِنَّهُ يَحْمِلُ يَوْمَ الْقِيَامَةِ وِزْرًا". لا تكن من المعرضين. أنذر من حولك قبل فوات الأوان.
انضم الآن وبلغ الرسالة: [ضع رابط المنصة هنا]`,
    hashtags: ['#كن_من_المنذرين', '#البلاغ_المبين', '#مسؤولية'],
  },
  {
    title: "أسهل رحلة إلى اليقين",
    content: `هل تريد أقصر طريق لليقين؟ ابدأ بـ "لا إله إلا الله". رددها، تفكر فيها، وعش بها.
اكتشف قوة الكلمة التي تغير الأكوان: [ضع رابط المنصة هنا]`,
    hashtags: ['#لا_اله_الا_الله', '#ذكر_الله', '#أسهل_طريق'],
  }
];

export default function ShareCenterPage() {
  const { toast } = useToast();
  const [copiedStates, setCopiedStates] = useState<{[key: number]: boolean}>({});

  const copyToClipboard = (text: string, index: number) => {
    // Replace placeholder with actual URL
    const siteUrl = window.location.origin;
    const finalText = text.replace(/\[ضع رابط المنصة هنا\]/g, siteUrl);

    navigator.clipboard.writeText(finalText).then(() => {
      toast({
        title: 'تم النسخ بنجاح!',
        description: 'يمكنك الآن لصق الرسالة في أي مكان.',
      });
      setCopiedStates(prev => ({...prev, [index]: true}));
      setTimeout(() => {
        setCopiedStates(prev => ({...prev, [index]: false}));
      }, 2000);
    }, (err) => {
      toast({
        variant: 'destructive',
        title: 'فشل النسخ',
        description: 'لم نتمكن من نسخ النص. يرجى المحاولة يدويًا.',
      });
      console.error('Could not copy text: ', err);
    });
  };

  return (
    <div className="container mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8 animate-in fade-in duration-500">
      <div className="text-center mb-12">
        <Share2 className="mx-auto h-16 w-16 text-primary mb-4" />
        <h1 className="font-headline text-4xl font-bold tracking-tight sm:text-5xl">
          مركز الدعوة الرقمية
        </h1>
        <p className="mt-4 max-w-3xl mx-auto text-lg text-muted-foreground">
          كن من المنذرين والمبلغين. انسخ هذه الرسائل وانشرها في كل مكان لحشد الزوار ومشاركة النور مع الآخرين.
        </p>
      </div>

      <div className="space-y-8">
        {shareableContent.map((item, index) => (
          <Card key={index} className="shadow-md hover:shadow-lg transition-shadow duration-300">
            <CardHeader>
              <CardTitle className="font-headline text-xl">{item.title}</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-muted-foreground whitespace-pre-line leading-relaxed text-base">
                {item.content}
              </p>
              <div className="flex flex-wrap items-center gap-2 mt-4">
                  <Hash className="h-4 w-4 text-muted-foreground" />
                  {item.hashtags.map(tag => (
                      <span key={tag} className="text-sm text-primary font-medium">{tag}</span>
                  ))}
              </div>
            </CardContent>
            <CardFooter>
              <Button onClick={() => copyToClipboard(item.content, index)}>
                {copiedStates[index] ? <Check className="ml-2 h-4 w-4" /> : <Copy className="ml-2 h-4 w-4" />}
                {copiedStates[index] ? 'تم النسخ' : 'نسخ النص'}
              </Button>
            </CardFooter>
          </Card>
        ))}
      </div>
    </div>
  );
}
